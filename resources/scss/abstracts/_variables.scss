// Custom Theme Variables System
// Comprehensive replacement for PicoCSS variables

/* @link https://utopia.fyi/space/calculator?c=320,18,1.2,1240,20,1.25,5,2,&s=0.75|0.5|0.25,1.5|2|3|4|6,s-l|m-3xl&g=s,l,xl,12 */

:root {
    // ========================================
    // FLUID SPACING SYSTEM
    // ========================================
    --space-4xs: clamp(0.125rem, 0.1042rem + 0.1042vw, 0.1875rem);
    --space-3xs: clamp(0.3125rem, 0.3125rem + 0vw, 0.3125rem);
    --space-2xs: clamp(0.5625rem, 0.5417rem + 0.1042vw, 0.625rem);
    --space-xs: clamp(0.875rem, 0.8542rem + 0.1042vw, 0.9375rem);
    --space-s: clamp(1.125rem, 1.0833rem + 0.2083vw, 1.25rem);
    --space-m: clamp(1.6875rem, 1.625rem + 0.3125vw, 1.875rem);
    --space-l: clamp(2.25rem, 2.1667rem + 0.4167vw, 2.5rem);
    --space-xl: clamp(3.375rem, 3.25rem + 0.625vw, 3.75rem);
    --space-2xl: clamp(4.5rem, 4.3333rem + 0.8333vw, 5rem);
    --space-3xl: clamp(6.75rem, 6.5rem + 1.25vw, 7.5rem);
  
    /* One-up pairs */
    --space-3xs-2xs: clamp(0.3125rem, 0.2038rem + 0.5435vw, 0.625rem);
    --space-2xs-xs: clamp(0.5625rem, 0.4321rem + 0.6522vw, 0.9375rem);
    --space-xs-s: clamp(0.875rem, 0.7446rem + 0.6522vw, 1.25rem);
    --space-s-m: clamp(1.125rem, 0.8641rem + 1.3043vw, 1.875rem);
    --space-m-l: clamp(1.6875rem, 1.4049rem + 1.413vw, 2.5rem);
    --space-l-xl: clamp(2.25rem, 1.7283rem + 2.6087vw, 3.75rem);
    --space-xl-2xl: clamp(3.375rem, 2.8098rem + 2.8261vw, 5rem);
    --space-2xl-3xl: clamp(4.5rem, 3.4565rem + 5.2174vw, 7.5rem);
  
    /* Custom pairs */
    --space-xs-s: clamp(0.875rem, 0.75rem + 0.625vw, 1.25rem);
    --space-xs-m: clamp(0.875rem, 0.5417rem + 1.6667vw, 1.875rem);
    --space-s-l: clamp(1.125rem, 0.6667rem + 2.2917vw, 2.5rem);
    --space-m-2xl: clamp(1.6875rem, 0.5833rem + 5.5208vw, 5rem);
    --space-m-2xl: clamp(1.6875rem, 0.5833rem + 5.5208vw, 5rem);
    --space-l-2xl: clamp(2.25rem, 1.3333rem + 4.5833vw, 5rem);
    --space-xl-3xl: clamp(3.375rem, 2rem + 6.875vw, 7.5rem);
    --space-l-3xl: clamp(2.25rem, 0.5rem + 8.75vw, 7.5rem);


    // ========================================
    // TYPOGRAPHY SYSTEM
    // ========================================
    --font-family-emoji: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
    --font-family-sans-serif: system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, Helvetica, Arial, "Helvetica Neue", sans-serif, var(--font-family-emoji);
    --font-family-monospace: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace, var(--font-family-emoji);
    --font-family: var(--font-family-sans-serif);
    --line-height: 1.5;
    --font-weight: 400;
    --font-size: 100%;
    --text-underline-offset: 0.1rem;

    // Font sizes
    --font-xs: 0.75rem;
    --font-sm: 0.875rem;
    --font-base: 1rem;
    --font-lg: 1.125rem;
    --font-xl: 1.25rem;
    --font-2xl: 1.5rem;
    --font-3xl: 1.875rem;

    // Typography spacing
    --typography-spacing-vertical: clamp(1rem, 0.8641rem + 1.3043vw, 1.5rem);

    // ========================================
    // LAYOUT & SPACING
    // ========================================
    --spacing: 1rem;
    --block-spacing-vertical: var(--spacing);
    --block-spacing-horizontal: var(--spacing);

    // ========================================
    // WORDPRESS CONTAINER PADDING
    // ========================================
    --container-padding: var(--spacing);

    // ========================================
    // STATIC ASSET PATHS
    // ========================================
    --static-path: '/static';

    // ========================================
    // BORDERS & OUTLINES
    // ========================================
    --border-radius: 0.25rem;
    --border-width: 0.0625rem;
    --outline-width: 0.125rem;

    // ========================================
    // FORM ELEMENTS
    // ========================================
    --form-element-spacing-vertical: 0.75rem;
    --form-element-spacing-horizontal: 1rem;

    // ========================================
    // NAVIGATION
    // ========================================
    --nav-element-spacing-vertical: 1rem;
    --nav-element-spacing-horizontal: 0.5rem;
    --nav-link-spacing-vertical: 0.5rem;
    --nav-link-spacing-horizontal: 0.5rem;
    --nav-breadcrumb-divider: ">";

    // ========================================
    // COLOR SYSTEM - LIGHT THEME
    // ========================================
    --background-color: #fefefe;
    --color: #1a1a1a;
    --text-selection-color: rgba(92, 126, 248, 0.25);
    --muted-color: #4a4a4a;
    --muted-border-color: #e5e5e5;
    
    // Primary colors (Pico CSS Blue-450)
    --primary: #5c7ef8;
    --primary-background: #5c7ef8;
    --primary-border: var(--primary-background);
    --primary-underline: rgba(92, 126, 248, 0.5);
    --primary-hover: #4869f7;
    --primary-hover-background: #4869f7;
    --primary-hover-border: var(--primary-hover-background);
    --primary-hover-underline: var(--primary-hover);
    --primary-focus: rgba(92, 126, 248, 0.5);
    --primary-inverse: #fff;

    // Secondary colors (Pico CSS Zinc-400)
    --secondary: #8891a4;
    --secondary-background: #8891a4;
    --secondary-border: var(--secondary-background);
    --secondary-hover: #7b8495;
    --secondary-hover-background: #7b8495;
    --secondary-hover-border: var(--secondary-hover-background);
    --secondary-focus: rgba(136, 145, 164, 0.5);
    --secondary-inverse: #fff;

    // Accent colors (Pico CSS Red-450)
    --accent: #ee402e;
    --accent-background: #ee402e;
    --accent-border: var(--accent-background);
    --accent-hover: #e7271b;
    --accent-hover-background: #e7271b;
    --accent-hover-border: var(--accent-hover-background);
    --accent-focus: rgba(238, 64, 46, 0.5);
    --accent-inverse: #fff;

    // Card and component backgrounds
    --card-background-color: #fff;
    --card-foreground-color: var(--color);
    --card-border-color: var(--muted-border-color);
    --code-background-color: #f8fafc;
    --card-box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
    
    // Content-specific colors
    --blockquote-color: var(--muted-color);
    
    // Dropdown specific
    --dropdown-hover-background-color: #f8fafc;
    
    // Border colors
    --border-color: #d1d5db;
    
    // Form element colors
    --form-element-background-color: #fff;
    --form-element-border-color: #d1d5db;
    --form-element-color: var(--color);
    --form-element-placeholder-color: var(--muted-color);
    --form-element-active-background-color: #fff;
    --form-element-active-border-color: var(--primary);
    --form-element-focus-color: var(--primary-focus);
    --form-element-disabled-background-color: #f1f5f9;
    --form-element-disabled-border-color: #e2e8f0;
    --form-element-disabled-opacity: 0.5;

    // ========================================
    // COMPONENT SPECIFIC
    // ========================================
    
    // Modal
    --modal-overlay-backdrop-filter: blur(0.375rem);
    
    // Group elements
    --group-box-shadow: 0 0 0 rgba(0, 0, 0, 0);
    --group-box-shadow-focus-with-button: 0 0 0 var(--outline-width) var(--primary-focus);
    --group-box-shadow-focus-with-input: 0 0 0 0.0625rem var(--form-element-border-color);

    // ========================================
    // ICONS (SVG data URIs)
    // ========================================
    --icon-checkbox: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(255, 255, 255)' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20,6 9,17 4,12'%3E%3C/polyline%3E%3C/svg%3E");
    --icon-minus: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(255, 255, 255)' stroke-width='4' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='5' y1='12' x2='19' y2='12'%3E%3C/line%3E%3C/svg%3E");
    --icon-chevron: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(136, 145, 164)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6,9 12,15 18,9'%3E%3C/polyline%3E%3C/svg%3E");
    --icon-date: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(136, 145, 164)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'%3E%3C/rect%3E%3Cline x1='16' y1='2' x2='16' y2='6'%3E%3C/line%3E%3Cline x1='8' y1='2' x2='8' y2='6'%3E%3C/line%3E%3Cline x1='3' y1='10' x2='21' y2='10'%3E%3C/line%3E%3C/svg%3E");
    --icon-time: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(136, 145, 164)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cpolyline points='12,6 12,12 16,14'%3E%3C/polyline%3E%3C/svg%3E");
    --icon-search: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(136, 145, 164)' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'%3E%3C/circle%3E%3Cpath d='m21 21-4.35-4.35'%3E%3C/path%3E%3C/svg%3E");
    --icon-close: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='rgb(136, 145, 164)' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='18' y1='6' x2='6' y2='18'%3E%3C/line%3E%3Cline x1='6' y1='6' x2='18' y2='18'%3E%3C/line%3E%3C/svg%3E");
    --icon-loading: url("data:image/svg+xml,%3Csvg fill='none' height='24' width='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg' %3E%3Cstyle%3E g %7B animation: rotate 2s linear infinite; transform-origin: center center; %7D circle %7B stroke-dasharray: 75,100; stroke-dashoffset: -5; animation: dash 1.5s ease-in-out infinite; stroke-linecap: round; %7D @keyframes rotate %7B 0%25 %7B transform: rotate(0deg); %7D 100%25 %7B transform: rotate(360deg); %7D %7D @keyframes dash %7B 0%25 %7B stroke-dasharray: 1,100; stroke-dashoffset: 0; %7D 50%25 %7B stroke-dasharray: 75,100; stroke-dashoffset: -15; %7D 100%25 %7B stroke-dasharray: 75,100; stroke-dashoffset: -124; %7D %7D %3C/style%3E%3Cg%3E%3Ccircle cx='12' cy='12' r='10' fill='none' stroke='rgb(136, 145, 164)' stroke-width='2'/%3E%3C/g%3E%3C/svg%3E");

}

// ========================================
// DARK MODE SUPPORT
// ========================================

// Dark mode colors mixin for reusability
@mixin dark-mode-colors {
    --background-color: #11191f;
    --color: #c2c7d0;
    --text-selection-color: rgba(2, 154, 232, 0.3);
    --muted-color: #81878f;
    --muted-border-color: #202632;
    
    // Primary colors (adjusted for dark mode)
    --primary: #0284d1;
    --primary-background: #0284d1;
    --primary-border: var(--primary-background);
    --primary-underline: rgba(2, 132, 209, 0.5);
    --primary-hover: #0369a1;
    --primary-hover-background: #0369a1;
    --primary-hover-border: var(--primary-hover-background);
    --primary-hover-underline: var(--primary-hover);
    --primary-focus: rgba(2, 132, 209, 0.5);
    --primary-inverse: #fff;

    // Secondary colors (adjusted for dark mode)
    --secondary: #94a3b8;
    --secondary-background: #94a3b8;
    --secondary-border: var(--secondary-background);
    --secondary-hover: #cbd5e1;
    --secondary-hover-background: #cbd5e1;
    --secondary-hover-border: var(--secondary-hover-background);
    --secondary-focus: rgba(148, 163, 184, 0.5);
    --secondary-inverse: #1e293b;
    
    // Accent colors (adjusted for dark mode) (Pico CSS Red-400)
    --accent: #f06048;
    --accent-background: #f06048;
    --accent-border: var(--accent-background);
    --accent-hover: #ee402e;
    --accent-hover-background: #ee402e;
    --accent-hover-border: var(--accent-hover-background);
    --accent-focus: rgba(240, 96, 72, 0.5);
    --accent-inverse: #1e293b;
    
    // Card and component backgrounds
    --card-background-color: #1a202c;
    --card-foreground-color: var(--color);
    --card-border-color: var(--muted-border-color);
    --code-background-color: #1a202c;
    --card-box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3), 0 3px 6px rgba(0, 0, 0, 0.4);
    
    // Content-specific colors
    --blockquote-color: var(--muted-color);
    
    // Dropdown specific
    --dropdown-hover-background-color: #2d3748;
    
    // Border colors
    --border-color: #2d3748;
    
    // Form element colors
    --form-element-background-color: #1a202c;
    --form-element-border-color: #2d3748;
    --form-element-color: var(--color);
    --form-element-placeholder-color: var(--muted-color);
    --form-element-active-background-color: #1a202c;
    --form-element-active-border-color: var(--primary);
    --form-element-focus-color: var(--primary-focus);
    --form-element-disabled-background-color: #2d3748;
    --form-element-disabled-border-color: #4a5568;
    --form-element-disabled-opacity: 0.5;
}

// Apply dark mode based on system preference (only when no manual override)
@media (prefers-color-scheme: dark) {
    :root:not(.dark):not(.light) {
        @include dark-mode-colors;
    }
}

// Apply dark mode when .dark class is present (manual toggle)
.dark {
    @include dark-mode-colors;
}

// Apply light mode when .light class is present (manual toggle)
.light {
    // Light mode colors are already defined in :root, so we just need to ensure they override
    --background-color: #fefefe;
    --color: #1a1a1a;
    --text-selection-color: rgba(92, 126, 248, 0.25);
    --muted-color: #4a4a4a;
    --muted-border-color: #e5e5e5;
    
    // Primary colors (Pico CSS Blue-450)
    --primary: #5c7ef8;
    --primary-background: #5c7ef8;
    --primary-border: var(--primary-background);
    --primary-underline: rgba(92, 126, 248, 0.5);
    --primary-hover: #4869f7;
    --primary-hover-background: #4869f7;
    --primary-hover-border: var(--primary-hover-background);
    --primary-hover-underline: var(--primary-hover);
    --primary-focus: rgba(92, 126, 248, 0.5);
    --primary-inverse: #fff;

    // Secondary colors (Pico CSS Zinc-400)
    --secondary: #8891a4;
    --secondary-background: #8891a4;
    --secondary-border: var(--secondary-background);
    --secondary-hover: #7b8495;
    --secondary-hover-background: #7b8495;
    --secondary-hover-border: var(--secondary-hover-background);
    --secondary-focus: rgba(136, 145, 164, 0.5);
    --secondary-inverse: #fff;

    // Accent colors (Pico CSS Red-450)
    --accent: #ee402e;
    --accent-background: #ee402e;
    --accent-border: var(--accent-background);
    --accent-hover: #e7271b;
    --accent-hover-background: #e7271b;
    --accent-hover-border: var(--accent-hover-background);
    --accent-focus: rgba(238, 64, 46, 0.5);
    --accent-inverse: #fff;

    // Card and component backgrounds
    --card-background-color: #fff;
    --card-foreground-color: var(--color);
    --card-border-color: var(--muted-border-color);
    --code-background-color: #f8fafc;
    --card-box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
    
    // Content-specific colors
    --blockquote-color: var(--muted-color);
    
    // Dropdown specific
    --dropdown-hover-background-color: #f8fafc;
    
    // Border colors
    --border-color: #d1d5db;
    
    // Form element colors
    --form-element-background-color: #fff;
    --form-element-border-color: #d1d5db;
    --form-element-color: var(--color);
    --form-element-placeholder-color: var(--muted-color);
    --form-element-active-background-color: #fff;
    --form-element-active-border-color: var(--primary);
    --form-element-focus-color: var(--primary-focus);
    --form-element-disabled-background-color: #f1f5f9;
    --form-element-disabled-border-color: #e2e8f0;
    --form-element-disabled-opacity: 0.5;
}

// ========================================
// SASS VARIABLES FOR SCSS USAGE
// ========================================

// Typography
$theme-font-family-base: var(--font-family);
$theme-font-size-base: 1rem;
$theme-line-height-base: var(--line-height);

// Spacing (keeping existing fluid system)
$theme-spacing-xs: var(--space-3xs);
$theme-spacing-sm: var(--space-2xs);
$theme-spacing-md: var(--space-s);
$theme-spacing-lg: var(--space-l);
$theme-spacing-xl: var(--space-xl);
$theme-spacing-xxl: var(--space-2xl);

// Breakpoints
$theme-breakpoint-xs: 576px;
$theme-breakpoint-sm: 768px;
$theme-breakpoint-md: 992px;
$theme-breakpoint-lg: 1200px;
$theme-breakpoint-xl: 1400px;

// Border radius
$theme-border-radius-sm: 0.125rem;
$theme-border-radius: var(--border-radius);
$theme-border-radius-lg: 0.5rem;

// Shadows
$theme-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
$theme-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
$theme-shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);

// Z-index scale
$theme-z-dropdown: 100;
$theme-z-fixed: 1000;
$theme-z-modal: 1050;
$theme-z-tooltip: 1070;

// WordPress Block Alignment Containers (values from theme.json)
$theme-content-width: var(--wp--style--global--content-size);
$theme-wide-width: var(--wp--style--global--wide-size);
$theme-container-padding: var(--container-padding); 